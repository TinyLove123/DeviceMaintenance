<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>Chi tiết sửa chữa</title>
    <th:block th:replace="base :: bootstrap"></th:block>
</head>
<body>
    <div th:replace="base :: header"></div>

    <main class="container mt-5">
        <h2>Chi tiết sửa chữa</h2>

        <div th:if="${Repair != null}">
            <div class="mb-3">
                <strong>Nhân viên thực hiện:</strong>
                <span th:text="${Repair.employeeId.lastName + ' ' + Repair.employeeId.firstName}"></span><br>
                <strong>Email:</strong> <span th:text="${Repair.employeeId.email}"></span><br>
                <strong>Số điện thoại:</strong> <span th:text="${Repair.employeeId.phone}"></span><br>
            </div>

            <div class="mb-3">
                <strong>Ngày kết thúc:</strong>
                <span th:text="${#dates.format(Repair.endDate, 'dd/MM/yyyy')}"></span><br>
                <strong>Tiến độ:</strong> <span th:text="${Repair.progress}"></span>
            </div>

            <h4>Chi tiết các phần sửa chữa</h4>
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Hạng mục sửa chữa</th>
                        <th>Mô tả</th>
                        <th>Chi phí</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="d, stat : ${Repair.repairDetailSet}">
                        <td th:text="${stat.index + 1}">1</td>
                        <td th:text="${d.repairCostId.repairTypeId.type}">Thay ổ cứng</td>
                        <td th:text="${d.descriptionDetail}">Chi tiết mô tả</td>
                        <td th:text="${#numbers.formatDecimal(d.repairCostId.price, 0, 'COMMA', 0, 'POINT')} + ' đ'">2,800,000 đ</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div th:if="${Repair == null}">
            <p class="text-danger">Không có dữ liệu sửa chữa!</p>
        </div>
    </main>
    <div th:replace="base :: footer"></div>
</body>
</html>
