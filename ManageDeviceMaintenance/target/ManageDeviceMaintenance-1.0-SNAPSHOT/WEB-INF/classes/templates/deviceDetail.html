<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>Chi tiết thiết bị</title>
    <th:block th:replace="base :: bootstrap"></th:block>
</head>
<body>
    <div th:replace="base :: header"></div>

    <main class="container mt-4">
        <h2>Chi tiết thiết bị</h2>
        <p><strong>Tên:</strong> <span th:text="${device.nameDevice}"></span></p>
        <p><strong>Nhà sản xuất:</strong> <span th:text="${device.manufacturer}"></span></p>
        <p><strong>Ngày mua:</strong> <span th:text="${#dates.format(device.purchaseDate, 'dd/MM/yyyy')}"></span></p>
        <p><strong>Giá:</strong> <span th:text="${device.price}"></span></p>

        <h3 class="mt-4">Chi phí sửa chữa</h3>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Mã sửa chữa</th>
                    <th>Loại sửa chữa</th>
                    <th>Giá sửa chữa</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="r : ${repairCosts}">
                    <td th:text="${r.id}"></td>
                    <td th:text="${r.repairTypeId.type}"></td>
                    <td th:text="${r.price}"></td>
                </tr>
            </tbody>
        </table>

<!--        <h4 class="mt-3">Thêm chi phí sửa chữa</h4>
        <form th:action="@{/devices/{id}/add-repair(id=${deviceId.id})}" 
              method="post" 
              th:object="${repairCost}">

             ID thiết bị (ẩn) 
            <input type="hidden" th:field="*{device.id}" />

             Dropdown loại sửa chữa 
            <label>Loại sửa chữa:</label>
            <select class="form-select" th:field="*{repairType.id}">
                <option th:each="r : ${repairTypes}" th:value="${r.id}" th:text="${r.name}"></option>
            </select>

             Giá 
            <label>Giá sửa chữa:</label>
            <input type="text" class="form-control" th:field="*{price}" />

            <button type="submit" class="btn btn-primary">Thêm sửa chữa</button>
        </form>-->

        <a th:href="@{/}" class="btn btn-secondary mt-3">Quay lại</a>
    </main>

    <div th:replace="base :: footer"></div>
</body>
</html>
